@using System.Data
@model System.Data.DataTable
@if (Model.Rows.Count > 0)
{//有数据
    foreach (DataRow comm in Model.Rows)
    {
        var classType = "img-wrapper ";
        //if (comm.Commodity_ValidityTime.HasValue)
        //{
        //    TimeSpan ts = comm.Commodity_ValidityTime.Value - DateTime.Now;
        //    if (ts.TotalDays >= 365)
        //    {
        //        classType += "validity-best";
        //    }
        //    else if (ts.TotalDays < 365 && ts.TotalDays >= 180)
        //    {
        //        classType += "validity-better";
        //    }
        //    else if (ts.TotalDays < 180 && ts.TotalDays >= 90)
        //    {
        //        classType += "validity-good";
        //    }
        //    else
        //    {
        //        classType += "validity-bad";
        //    }
        //}
        <dd class=pro-item>
            <a href="@Url.Action("CommodityDetail", new { Id = comm["Realtion_CommodityId"] })">
                <section class="@classType">
                    <img src="@comm["Commodity_ImagePath"]" alt="@comm["Commodity_Name"]" title="@comm["Commodity_Name"]">
                </section>
                <p class="pro-info">@comm["Commodity_Name"]</p>
                <p class="that-price color-light ft12">
                    <del>原价：¥@Convert.ToDecimal(comm["Commodity_CostPrice"]).ToString("F")</del>
                </p>
                <p class="this-price ">
                    <span class="sales fr ft12">@(comm["Realtion_Discount"])折</span>
                    <span class="this-price">¥@(Convert.ToDecimal(Convert.ToDecimal(comm["Commodity_CostPrice"]) * Convert.ToDecimal(comm["Commodity_Discount"]) / 10).ToString("F"))</span>
                </p>
            </a>
        </dd>
    }
    <div class="tc loadmoreDiv"><a onclick="loadMore();" class="btn loadmore">点击加载更多</a></div>
}